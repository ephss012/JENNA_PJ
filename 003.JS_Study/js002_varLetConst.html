<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>varLetConst</title>

    <script>
        /*  
            변수는 var, let, const

            var: 함수영역변수
            1. 함수영역에서 사용할 때만 지역변수, 바깥쪽은 전역변수
            2. 전역변수와 같은 이름의 변수를 함수에서 값을 주면 덮어쓰기가 됨
            3. 함수영역에서 전역변수와 같은 이름의 변수를 선언하면 전역변수와 다른 지역변수로 관리된다
                ㄴ 이렇게 하면 코딩이 혼란스러워짐
            *** 요즘은 var가 아니라 let을 많이씀
            _____________________________________________________________________
            
            let: 블록영역변수 (중괄호는 모두 블록)
            1. let으로 변수를 만들면 전역과 지역을 별도로 관리하여 같은 이름 변수도 별개의 변수로 인식된다
            2. let변수는 선언 후에 아래쪽에서 사용해야 호출할 수 있다 (var는 위에서 호출 가능 - 호이스팅)
            3. 같은 영역에 있는 같은 이름의 변수를 중복선언할 수 없다
            _____________________________________________________________________

            const: 상수(constant) - 변하지 않는 값
            1. 선언과 동시에 할당해야 함
            2. 한번 할당한 값은 변경 불가
            3. 배열과 객체, 함수를 상수로 만드는 경우가 많다
                ㄴ 변경불가는 각 배열형, 객체형, 함수형을 못바꿈
                ㄴ 변경가능은 각 배경값, 객체값, 함수전달
            4. 기타 특징은 let과 동일함 - 블록단위변수 특징
            

        */

        ///// var 테스트 ///////////////////
        // JS에서 중괄호{}란? -> 코드를 묶어주는 영역

        // 함수 중괄호에서 var /////////////
        function callMe(){
            var korea = "한국";
            console.log("함수내 korea:",korea);

        } //////// callMe함수 /////////////

        // 함수 바깥에 함수내의 같은 이름의 변수를 선언할당하면?
        var korea = "미국";

        // 함수호출
        callMe();


        // 함수밖에서 korea변수 찍기
        console.log("함수밖 korea:",korea);
        // 지역변수로만 있는 함수내 변수를 바깥에서 사용시
        // 에러발생!!!
        // Uncaught ReferenceError: korea is not defined
        // 전역변수로 korea선언시엔 에러없음!

                // if문 중괄호 var ////////////////////
                if(true){
            var who = "누구?";
            console.log("if문안 who:",who);
        } ///// if ///////////

        console.log("if문밖 who:",who);
        // if문안의 중괄호안에서 변수를 선언하면
        // 바깥에 선언된 것과 같다!

        /// for문 중괄호 var ///////////////
        for(var i=3;i>0;i--){
            console.log("for문안 i:",i);
        } //////// for문 ////////////

        console.log("for문밖 i:",i);
        // 변수결과로 0이 찍힘(for문의 최종결과)
        // -> 결과: for문의 중괄호는 지역변수를 만들지 못함!

        // ->>>> var는 오직 함수의 중괄호 안에서만 선언시
        // 지역변수로 사용된다!!!!

        /////////////////////////////////////////////

        /// let, const 테스트 ///////////////
        var seoul = "서울";
        var jeju = "제주도";
        let toktok = "카톡";
        let sport = "축구";

        /// 중괄호로 블록영역을 만들어 본다!///

        //*********************************************
        {

            
            // 블록내부에서 전역변수 찍기 앞
            console.log("전역변수를 블록영역에서 찍기!앞");
            console.log("seoul:",seoul);
            // console.log("jeju:",jeju); 에러남!
            // console.log("toktok:",toktok); 에러남!
            console.log("sport:",sport);
            // console.log("myitem:",myitem); 에러남!

            // 블록에서 변수 재선언하기! //////////
            var seoul = "강남구";
            // 전역변수가 다시 선언되어 할당된 결과임!
            let jeju = "마라도";
            // 전역변수 var로 선언된 같은 이름의 변수를
            // let으로 블록영역에서 선언하여 할당하면
            // 블록영역의 지역변수가 된다!
            // 이 변수보다 위에서 미리 찍을 수 없다!(에러발생)
            let toktok = "라인";
            // 전역변수 let으로 선언된 같은 이름의 변수를
            // let으로 블록영역에서 선언하여 할당하면
            // 블록영역의 지역변수가 된다!(jeju와 같음)
            
            // var sport = "배구";
            // 에러남!
            // Uncaught SyntaxError: Identifier 'sport' has already been declared
            // let으로 이미 전역변수에 선언된 변수는
            // 블록영역일 지라도 var로 선언하게 되면
            // 바깥쪽에 같은 이름으로 선언된 것과 같으므로
            // 위와 같은 에러가 난다!

            myitem = "곰인형";
            // 선언없이 변수를 할당하면?
            // 함수가 아니라면 전역변수에 var로 자동등록됨
            // 편리한가? 아니다!!! 변수관리가 부실해짐!!!
            // 반드시 선언하고 사용할것!



            // 블록내부에서 전역변수 찍기 뒤
            console.log("전역변수를 블록영역에서 찍기!뒤");
            console.log("seoul:",seoul);
            console.log("jeju:",jeju);
            console.log("toktok:",toktok);
            console.log("sport:",sport);
            console.log("myitem:",myitem);


        }
        //***********************************************

        // 전역영역에서 전역변수 찍기
        console.log("전역변수를 전역영역에서 찍기!");
        console.log("seoul:",seoul);
        console.log("jeju:",jeju);
        console.log("toktok:",toktok);
        console.log("sport:",sport);
        console.log("myitem:",myitem);

        //////////////////////////////////////////////
        
        // 변수 호이스팅(hoisting)
        cat = "고양이"; // 변수할당먼저
        console.log("cat:",cat);
        var cat; 
        // 변수선언을 할당 후에 할 수 있는 것을 변수 호이스팅이라고 함 - var인 경우 사용
        // 문제는 - 코딩 순서에 혼란이 야기됨
        // let을 사용하면 변수 호이스팅이 금지됨
        
        let dog;
        dog = "강아지";
        console.log("dog:",dog);
        // let dog;
        // 아래에서 선언하면 에러남 - Uncaught ReferenceError: Cannot access 'dog' before initialization
        
        //////////////////////////////////////////////


        // 상수테스트 ///////////////////

        // const fish;
        // fish = "생선";
        //      ㄴ 이렇게 상수 선언을 따로할 수 없음 - Uncaught SyntaxError: Missing initializer in const declaration

        const fish = "생선";
        // fish = "참치";
        //      ㄴ 재할당불가

        console.log("상수 fish:",fish);
        ///////////////////////////////////////////////////

        // const의 활용

    </script>

</head>
<body>
    
</body>
</html>