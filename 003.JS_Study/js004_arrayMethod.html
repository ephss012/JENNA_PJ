<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>배열의 메서드 활용</title>
    <style>
        html,
        body {
            margin: 0;
            padding: 0;
        }

        h1,
        h2 {
            text-align: center;
        }

        .controler {
            padding: 15px;
            width: 100%;
            text-align: center;
        }

        .cont ul {
            display: flex;
            flex-wrap: wrap;
            margin: 0;
            padding: 0;
            list-style: none;
            overflow: hidden;
        }

        .cont li {
            width: 100px;
            height: 100px;
            border: 2px solid red;
            border-radius: 50%;
            margin: 10px;
            text-align: center;
            line-height: 100px;
            font-size: 25px;
            white-space: nowrap;
        }

        /* 배열정보 보이기 */
        .showit {
            padding: 15px;
            border: 4px dotted blue;
            text-align: center;
            font-size: 20px;
            font-weight: bold;
        }

        /* 버튼 */
        .mbtn,#sel{
            font-size: 20px;
            padding: 10px;
            border-radius: 10px;
        }
    </style>
    <script>
        // 로드 구역 /////////////////////////////////////
        window.addEventListener('DOMContentLoaded', 

        function(){

            console.log('로딩완료');

            // 1. 배열변수 선언과 할당
            const fruit = ['배','사과','용과','딸기'];
            // 과일명과 과일이미지 명 매칭하기
            const frObj = {
                '배':'fruits_01',
                '사과':'fruits_02',
                '용과':'fruits_14',
                '딸기':'fruits_09'
            };

            // 2. 공통모듈 요소
            // 배열정보출력
            let showit = document.querySelector('.showit');
            // 배열로 이미지출력
            let cont = document.querySelector('.cont');
            // 조작버튼 요소들
            let mbtn = document.querySelectorAll('.mbtn');
                // ㄴ mbtn 버튼들 다 끌고 오기 위해서 all
            //선택박스
            let sel = document.querySelector('#sel');

            // 3. 처음배열 출력
            showit.innerText = fruit.join('*');

            ///////////////////////////////////////////////
            // 4. 각 기능버튼 함수 구현하기 /////////////////////

            // 4-1. 과일주세요 버튼 - 순서 0
            mbtn[0].onclick = function(){
                console.log('과일주세요')
                ;
                // 변경내용: 배열된 과일만큼 ul>li 만들어서  html로 .cont에 출력하기

                const mk = (val) => { 
                    // val - 배열값 전달변수
                    console.log('배열값:',val)
                    // 전달된 배열값으로 li코드를 만든다!
                    code +=
                    `
                        <li style="background:url(./addimg/${frObj[val]}.png) no-repeat center/cover">${val}</li>
                    `
                }
                
                let code = '<ul>';
                    // 배열내용만큼 li만들기!
                    // 배열명.forEach(함수명) 
                    // -> 특징: 배열값 하나씩 순서대로 함수를 호출하며 값을 전달하는 배열메서드
                    // -> 함수에서 코드생성!

                    fruit.forEach(mk);
                    code += '</ul>';

                    console.log('출력HTML:'+code);

                    // 화면출력하기
                    cont.innerHTML = code;
            }
            
            // 4-2. 뒷배열추가요 버튼 - 순서 1
            mbtn[1].onclick = function(){
                // 선택대상 : #sel 인 선택박스의 값
                // 뒷배열에 추가하기 - push ***
                fruit.push(sel.value);
                // 배열정보 출력하기
                showit.innerText = fruit.join('*');
            }
            
            // 4-3. 앞배열추가요 버튼 - 순서 2
            mbtn[2].onclick = function(){
                // 선택대상 : #sel 인 선택박스의 값
                // 앞배열에 추가하기 - unshift ***
                fruit.unshift(sel.value);
                // 배열정보 출력하기
                showit.innerText = fruit.join('*');
            }

            // 4-4. 뒷배열삭제요 버튼 - 순서 3
            mbtn[3].onclick = function(){
                // 선택대상 : #sel 인 선택박스의 값
                // 뒷배열 삭제하기 - pop ***
                fruit.pop(sel.value);
                // 배열정보 출력하기
                showit.innerText = fruit.join('*');
            }

            // 4-5. 앞배열삭제요 버튼 - 순서 4
            mbtn[4].onclick = function(){
                // 선택대상 : #sel 인 선택박스의 값
                // 앞배열 삭제하기 - shift ***
                fruit.shift(sel.value);
                // 배열정보 출력하기
                showit.innerText = fruit.join('*');
            }

        });
        ///////////////////////////////////////////////
    </script>
</head>

<body>
    <h1>배열의 메서드 활용</h1>
    <!-- 배열정보보기 -->
    <h2>배열정보보기</h2>
    <div class="showit"></div>
    <!-- 컨트롤 버튼 -->
    <div class="controler">
        <!-- 과일기능버튼 -->
        <button class="mbtn">과일주세요~!</button>
        <button class="mbtn">뒷배열추가요~!</button>
        <button class="mbtn">앞배열추가요~!</button>
        <button class="mbtn">뒷배열삭제요~!</button>
        <button class="mbtn">앞배열삭제요~!</button>
        <!-- 과일선택박스 -->
        <select name="sel" id="sel">
            <option>사과</option>
            <option>배</option>
            <option>용과</option>
            <option>딸기</option>
        </select>
    </div>
    <!-- 출력박스 -->
    <div class="cont"></div>
</body>

</html>