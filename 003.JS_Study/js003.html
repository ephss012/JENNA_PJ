<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS 제어문 - if문, switch case문, for문, while문</title>

    <script>
        // JS코딩구역

        /*******************************************************************

            함수는 호출시에만 실행되는 코드저장소

            함수명:jumsu
            기능: 평가점수를 평가결과로 변환하여 출력

        *******************************************************************/

        function jumsu() {
            // 1.함수호출여부
            // console.log("점수뭐야");
            // 개발자모드에서 콘솔 탭 선택

            // 2.대상선정 //
            // 2-1.점수를 가져올 대상 : #jumsu인 input 요소
            var jumsu = document.getElementById("jumsu");

            // 2-2.입력된 값을 읽어오기
            var score = jumsu.value;
            // console.log("입력값", score);
            // // console.log(메시지,변수) - 콤마 또는 플러스로 연결 

            // 2-3.출력대상 #jexp
            var jexp = document.getElementById("jexp");

            // 2-4.출력대상 칭찬스티커
            var jshow = document.getElementById("jshow");

            ///////////////////////
            // 2-5.숫자여부 판별하기 //
            // 숫자여부 판별 JS 내장 함수 : isNaN() is not a number?
            // 숫자가 아니면 true

            console.log("숫자가 아니니? ",isNaN(score));

            if(isNaN(score)){
                // 1. 숫자가 아닌 경우 메시지 출력
                jexp.innerText = "숫자를 입력하세요";
                
                // 2. 글자색 초기화
                jexp.style.color = "#000";
                // 3. 칭찬스티커 초기화
                jshow.style.backgroundPosition = "322px 0"
                // 아래쪽 코드를 실행하지 않도록 함수 나가기

                // 4. 입력창 내용지우기
                jumsu.value = "";

                // 5. 입력창에 포커스 주기
                jumsu.focus();

                return;
            }

            // 2-5.1 숫자 범위 판별하기
            // 0-100 아닌 수 거르기
            else if(score<0||score>100){

                // 1. 숫자범위가 아닌 경우 메시지 출력
                jexp.innerText = "0 이상 100이하의 숫자를 입력하세요";
                
                // 2. 글자색 초기화
                jexp.style.color = "#000";
                // 3. 칭찬스티커 초기화
                jshow.style.backgroundPosition = "322px 0"
                // 아래쪽 코드를 실행하지 않도록 함수 나가기

                // 4. 입력창 내용지우기
                jumsu.value = "";

                // 5. 입력창에 포커스 주기
                jumsu.focus();

                return;

            }


            /* **************************** */
            // 결과메시지 변수 //
            var msg;
            // // console.log("할당안된 msg변수:",msg);
            // 아무값도 넣지 않으면
            // undefined (정되되지않은값)이 셋팅된다!

            // 결과에 따른 글자색 변수
            var fc;
            // 결과에 따른 칭찬스티커 위치변수
            var pos;
            /* **************************** */
           
            // 3.점수환산하기
            // if
            if(score >= 90){
                msg = "매우잘함";
                fc = "blue";
                pos = "0 0" ;
            } ///// if //////
            else if(score >= 80){
                msg = "잘함";
                fc = "green";
                pos = "-322px 0" ;
            } //// else if //////
            else if(score >= 70){
                msg = "보통";
                fc = "purple";
                pos = "-322px -322px" ;
            } //// else if //////
            else if(score >= 60){
                msg = "잘 좀 하지 왜 그랬대";
                fc = "orange";
                pos = "-322px -644px" ;
            } //// else if //////
            else{
                msg = "교무실로 와라";
                fc = "red";
                pos = "-644px -644px" ;
            } //// else //////

            // console.log("msg변수:",msg, 
                        // "/색상:",fc,
                        // "/위치:",pos);


            // 4.결과출력
            jexp.innerText = " 평가결과 = " + msg;
            // innerText는 선택요소 내부에 글자를 넣거나 읽어옴

            // 5.글자색변경
            // style.color = 값
            jexp.style.color = fc;

            // 6.칭찬스티커 나오게하기
            jshow.style.backgroundPosition = pos;

            // 7.입력창에 포커스 주기
            jumsu.focus();

       } 
       ///////////// jumsu 함수 ///////////////////////////
       ///////////////////////////////////////////////////

        /*******************************************************************
         
         [if 문]
         - 조건문을 검사하여 트루면 중괄호 안의 코드를 실행하는 제어문
         - 조건문이란 결과가 트루/펄스로 나오는 구문
         - 보통 비교연산자나 논리연산자가 사용된다
         
         1. if문은 단독으로 따로 사용 가능
         2. else if문은 if문 뒤에, 혹은 또다른 else if문 뒤에 사용 가능
         3. if와 else if로 구성된 조건문은 하나의 조건에 해당할 경우 다른 조건문에는 들어가지 않는다
         
         else문은 조건문에 해당되지 않을 경우 모든 경우의 수를 기타로 묶어서 최종적으로 실행하는 코드구역이다
         (else문은 if문 혹은 else if문이 끝나는 맨 뒤에 사용하며 안 쓸 수도 있다)
         
         *** 주의사항: else if나 else문은 처음에 쓰거나 단독으로 사용 불가능
         
         ** 참고: 만약 if의 실행문이 한줄일 경우 중괄호 생략 가능
         예)
         if(aa>10) {my = "야야";}
         if(aa>10) my = "야야";
         
         *******************************************************************/
       

        /*******************************************************************
            함수명: local
            기능: 지역명을 입력하면 국번을 안내
        *******************************************************************/

        function local(){
            // 1.호출확인
            // console.log("지역국번은 뭐야?");
            // 2-1.대상선정: 읽어올 대상 - input#local
            var tg = document.querySelector("#local");
            // 2-2.대상선정: 출력대상 - #info
            var info = document.querySelector("#info");
            // 3.입력된값 읽어오기
            var txt = tg.value;
                // input요소에 입력된 값을 읽어옴(value)
            // console.log("지역명:",txt);
            
            var msg; //선언만 하고 할당은 제어문에서

            // 4.지역명을 switch case문으로 분류하여 메시지 넣기
            switch (txt){
                case "서울": msg="02"; break;
                case "경기": msg="031"; break;
                case "인천": msg="032"; break;
                case "부산": msg="051"; break;
                case "제주": msg="064"; break;
                default: msg="esc";
            }
            console.log("메시지;",msg);

            // 5.메시지 만들기
            if(msg==="esc"){
                msg = "등록되지 않은 지역입니다";
            }
            else{
                msg = `${txt}의 지역번호는 ${msg}입니다`;
            }

            // 6.화면출력
            // 출력대상 #info
            info.innerText = msg;

        }
        ///////////// local 함수 ///////////////////////////
        ///////////////////////////////////////////////////

        /* ****************************************************
            [ switch case문 ]
            단일 조건을 분류하여 실행문을 만들어 줄 때 사용하는 제어구문

            switch(변수){
                case 경우1: 실행코드; break; 
                case 경우2: 실행코드; break; 
                case 경우3: 실행코드; break; 
                ...
                default: 실행문;
            }
            _________________________________

            작동원리:
            1) 변수값에 해당하는 경우 그 값에 해당하는 case에 들어가서 실행코드를 실행
            2) 각 case 끝에 break 예약어를 반드시 써야함
                ㄴ 안 쓰면 다른 case에 또 들어가는 경우 발생
                ㄴ 일반적으로 브레이크 키워드는 제어문을 빠져나감
            3) default는 if문의 else와 비슷하여 해당 케이스가 없으면 이곳이 실행 (단, 필요할 떄만 사용)
                ㄴ 디폴트에는 브레이크를 쓰지 않음

        **************************************************** */


    </script>

    <style>
        #jshow{
            position: absolute;
            top: -20px;
            left: 120px;
            width: 322px;
            height: 322px;
            transform: scale(.3);
            background: url(./images/ifshow.jpg) no-repeat;
            background-position: 322px 0 ;
            transition: all .4s ease-out;
        }
        .ir{
            display: block;
            width: 0;
            height: 0;
            overflow: hidden;
        }
    </style>
</head>

<body>
    <h1>
        JS 제어문
    </h1>
    <hr>
    <!-- if문 연습 -->
    <h2>if문 연습</h2>
    <h3 id="jexp">평가출력</h3>
    <label for="">점수입력:</label>
    <input type="text" id="jumsu" placeholder="점수를 입력하세요" maxlength="7" onkeypress="if(event.keyCode===13)jumsu()">
        <!-- onkeypres 키보드를 치면 발생하는 이벤트
            if조건문
            조건식: even.keyCode === 13
                ㄴ 엔터키의 키코드 = carriage return
                ㄴ 트루면 jumsu() 함수를 호출해라
            *** 키코드 참조 ascii 코드 참조
        -->
    <button class="sbtn" onclick="jumsu()">평가하기</button>

    <div id="jshow">
         <span class="ir">칭찬스티커</span>
    </div>
    <!-- <input type="submit" id="jumsu" placeholder="점수를 입력하세요" value="90"> -->
    <!-- <input type="search" id="jumsu" placeholder="점수를 입력하세요"> -->
    <!-- <input type="email" id="jumsu" placeholder="이메일을 입력하세요"> -->

    <!-- 
        [ input요소 : 입력양식 요소 ]
              ㄴ 텍스트, 라디오버튼, 체크박스, 버튼 등
            type="text" 텍스트 입력 양식
            placeholder 속성 : 안내문구 출력 - 글자 입력 시 사라짐
            value 속성 : 미리 입력할 글자 넣기
                JS에서 입력된 글자를 읽어갈 때  value 속성을 사용
            maxlength 속성 : 최대 입력 글자수 지정

        [ label요소: 입력양식 설명요소 ]
            - for 속성은 연결된 input 요소의 아이디명을 써줌
                라벨 클릭시 해당 인풋 요소로 포커스가 들어감
            - 웹 접근성(평등의 원칙) 측면에서 라벨은 input요소의 필수요소로 사용할 것을 권고하고 있다
                입력창에 대한 설명으로 리더기가 이것을 읽어줌 
    -->
    <hr>

    <!-- switch case문 연습 -->

    <h2>switch case문 연습</h2>
    <h3 id="info">국번안내</h3>
    <label for="local"></label>
    <input type="text" id="local" placeholder="지역명에 '도'를 빼고 쓰세요" onkeypress="if(event.keyCode == 13)local()">
    <button class="sbtn" onclick="local()">국번문의</button>


</body>

</html>